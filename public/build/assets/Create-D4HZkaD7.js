import{_ as U,B as C,h as p,r as g,o as r,c as q,w as I,e,f as b,t as h,b as i,d as m,g as B,a as d,i as l,j as x,k as w,F as V,v as c,l as v,T as L,p as N,m as P}from"./app-Dcv1srkc.js";import z from"./CreateSectionTitle-BXs6EtVW.js";const O={components:{BreezeAuthenticatedLayout:C,SectionTitle:z},props:["eventTypes","bands","states","errors"],data(){return{sessionToken:Math.floor(Math.random()*1e9),searchResults:"",searchTimer:null,colors:[],form:{band_id:"",event_name:"",venue_name:"",first_dance:"",father_daughter:"",mother_groom:"",money_dance:"",bouquet_garter:"",address_street:"",zip:"",city:"",colorway_id:"",ceremony_time:"",production_needed:!0,backline_provided:!1,quiet_time:"",onsite:"",notes:"",event_time:"",band_loadin_time:"",end_time:"",rhythm_loadin_time:"",production_loadin_time:"",pay:"0",depositReceived:"",event_key:"",created_at:"",updated_at:"",public:"",event_type_id:"",lodging:"",state_id:"",outdoors:""}}},methods:{createEvent(){this.$inertia.post("/events",this.form).then(()=>{})},colorsForBand(){for(const a in this.bands)this.bands[a].id===this.form.band_id&&(this.colors=this.bands[a].colors)},alterProductionNeeded(){this.form.production_needed=[3,6].indexOf(this.form.event_type_id)==-1},assumeSeven(){this.form.event_time=new Date(p(String(this.form.event_time)).add("hour",19)),this.form.end_time=new Date(p(String(this.form.event_time)).add("hour",4)),this.form.quiet_time=new Date(p(String(this.form.event_time)).subtract("hour",1)),this.form.ceremony_time=new Date(p(String(this.form.event_time)).subtract("hour",1))},setDate(){const a=this.form.onsite?1:0;this.form.event_type_id==1?(this.form.quiet_time=new Date(p(String(this.form.ceremony_time)).subtract("hour",a)),this.form.band_loadin_time=new Date(p(String(this.form.quiet_time)).subtract("hour",2)),this.form.rhythm_loadin_time=new Date(p(String(this.form.quiet_time)).subtract("hour",3)),this.form.production_loadin_time=new Date(p(String(this.form.quiet_time)).subtract("hour",4))):(this.form.band_loadin_time=new Date(p(String(this.form.quiet_time)).subtract("hour",2)),this.form.rhythm_loadin_time=new Date(p(String(this.form.quiet_time)).subtract("hour",3)),this.form.production_loadin_time=new Date(p(String(this.form.quiet_time)).subtract("hour",4)))},autoComplete(){this.searchTimer&&(clearTimeout(this.searchTimer),this.searchTimer=null);try{this.searchTimer=setTimeout(()=>{axios.post("/autocompleteLocation",{sessionToken:this.sessionToken,searchParams:this.form.venue_name}).then(a=>{this.searchResults=a.data.predictions})},800)}catch(a){this.$page.props.errors=["Error in autocomplete"+a]}},getLocationDetails(a){try{axios.get("/getLocation",{params:{place_id:a,sessionToken:this.sessionToken}}).then(n=>{const u=n.data.result.address_components;u.find(t=>t.types.indexOf("street_number")!==-1)?this.form.address_street=u.find(t=>t.types.indexOf("street_number")!==-1).long_name+" "+u.find(t=>t.types.indexOf("route")!==-1).long_name:this.form.address_street=u[0].long_name;const k=u.find(t=>t.types.indexOf("administrative_area_level_1")!==-1).long_name;this.form.state_id=this.states.find(t=>t.state_name===k).state_id,this.form.city=u.find(t=>t.types.indexOf("locality")!==-1).long_name,u.find(t=>t.types.indexOf("postal_code")!==-1)&&(this.form.zip=u.find(t=>t.types.indexOf("postal_code")!==-1).long_name)})}catch(n){this.$page.props.errors=["Error in getLocationDetails"+n]}}}},s=a=>(N("data-v-9424dfeb"),a=a(),P(),a),M={class:"min-w-full max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"mb-4"},R={key:0,class:"alert alert-danger mt-4"},A={class:"flex flex-col gap-8"},j=s(()=>e("div",{class:"p-4 border-b"},[e("h2",{class:"text-2xl"}," Event Information "),e("p",{class:"text-sm text-gray-500"}," Event name/type/load in etc. ")],-1)),G={class:"section"},K={class:"createEventInput"},Q=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"name"},"Band")],-1)),W=["value"],Z={class:"createEventInput"},H=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"name"},"Name")],-1)),J={class:"mb-4"},X={class:"createEventInput"},Y=s(()=>e("p",{class:"text-gray-600"}," Event Date ",-1)),$={class:"createEventInput"},ee=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"eventType"},"Event Type")],-1)),te=["value"],oe={class:"createEventInput"},ne=s(()=>e("p",{class:"text-gray-600"}," Public ",-1)),se={key:0,class:"section"},re={class:"createEventInput"},ie=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"firstDance"},"First Dance")],-1)),le={class:"createEventInput"},de=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"father_daughter"},"Father / Daughter Dance:")],-1)),ae={class:"createEventInput"},ue=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"father_daughter"},"Mother / Groom Dance:")],-1)),me={class:"createEventInput"},pe=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"moneyDance"},"Money Dance")],-1)),ce={class:"createEventInput"},_e=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"secondDance"},"Bouquet / Garter")],-1)),fe={class:"createEventInput"},he=s(()=>e("p",{class:"text-gray-600"}," Second Line ",-1)),ve={class:"section"},ye={class:"createEventInput"},ge=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"eventType"},"Production")],-1)),be={class:"mb-4"},xe=s(()=>e("option",{value:!0}," Provided by band ",-1)),we=s(()=>e("option",{value:!1}," Provided by venue ",-1)),Ve=[xe,we],ke={key:0,class:"createEventInput"},Ee=s(()=>e("p",{class:"text-gray-600"}," Backline Provided ",-1)),Ie={class:"createEventInput"},De=s(()=>e("p",{class:"text-gray-600"}," Venue Name ",-1)),Se={class:""},Te=["onClick"],Ue={class:"createEventInput"},Ce=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"streetAddress"},"Street Address")],-1)),qe={class:"createEventInput"},Be=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"zipCode"},"City")],-1)),Le={class:"createEventInput"},Ne=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"state"},"State")],-1)),Pe=["value"],ze={class:"createEventInput"},Oe=s(()=>e("p",{class:"text-gray-600"},[e("label",{for:"zipCode"},"Zip Code")],-1)),Me={class:"createEventInput"},Fe=s(()=>e("p",{class:"text-gray-600"}," Outdoors ",-1)),Re={class:"section"},Ae={class:"createEventInput"},je=s(()=>e("p",{class:"text-gray-600"}," Notes ",-1)),Ge={class:"createEventInput"},Ke=s(()=>e("p",{class:"text-gray-600"}," Color ",-1)),Qe={class:"createEventInput"},We=s(()=>e("p",{class:"text-gray-600"}," Lodging Provided ",-1)),Ze={key:1,class:"section"},He={key:0,class:"createEventInput"},Je=s(()=>e("p",{class:"text-gray-600"}," Show Time ",-1)),Xe={key:1,class:"createEventInput"},Ye=s(()=>e("p",{class:"text-gray-600"}," End Time ",-1)),$e={key:2,class:"createEventInput"},et=s(()=>e("p",{class:"text-gray-600"}," Ceremony Time ",-1)),tt={key:3,class:"createEventInput"},ot=s(()=>e("p",{class:"text-gray-600"}," Quiet Time ",-1)),nt=s(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),st={key:4,class:"createEventInput"},rt=s(()=>e("p",{class:"text-gray-600"}," Production Load In Time ",-1)),it={key:5,class:"createEventInput"},lt=s(()=>e("p",{class:"text-gray-600"}," Rhythm Load In Time ",-1)),dt={key:6,class:"createEventInput"},at=s(()=>e("p",{class:"text-gray-600"}," Band Load In Time ",-1)),ut=s(()=>e("div",{class:"flex items-center justify-center mt-8 mb-4"},[e("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit"}," Create Event ")],-1));function mt(a,n,u,k,t,_){const y=g("SectionTitle"),D=g("p-inputtext"),f=g("calendar"),E=g("Editor"),S=g("breeze-authenticated-layout");return r(),q(S,null,{default:I(()=>[e("div",M,[e("div",F,[b(h(u.errors.name)+" ",1),u.errors.name?(r(),i("div",R,[b(" Errors: "),e("ul",null,[e("li",null,h(u.errors.name),1)])])):m("",!0),e("form",{action:"/events",method:"POST",class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:n[37]||(n[37]=B((...o)=>_.createEvent&&_.createEvent(...o),["prevent"]))},[e("div",A,[j,e("div",G,[d(y,{number:1,title:"Initial Information"}),e("div",K,[Q,e("div",null,[l(e("select",{id:"bandDropdown","onUpdate:modelValue":n[0]||(n[0]=o=>t.form.band_id=o),class:"block appearance-none w-full bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded",onChange:n[1]||(n[1]=o=>_.colorsForBand())},[(r(!0),i(V,null,w(u.bands,o=>(r(),i("option",{key:o.id,value:o.id},h(o.name),9,W))),128))],544),[[x,t.form.band_id]])])]),e("div",Z,[H,e("div",J,[d(D,{modelValue:t.form.event_name,"onUpdate:modelValue":n[2]||(n[2]=o=>t.form.event_name=o)},null,8,["modelValue"]),l(e("input",{id:"name","onUpdate:modelValue":n[3]||(n[3]=o=>t.form.event_name=o),type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Event Name"},null,512),[[c,t.form.event_name]])])]),e("div",X,[Y,e("p",null,[d(f,{id:"eventDate",modelValue:t.form.event_time,"onUpdate:modelValue":n[4]||(n[4]=o=>t.form.event_time=o),onDateSelect:n[5]||(n[5]=o=>_.assumeSeven())},null,8,["modelValue"])])]),e("div",$,[ee,e("div",null,[l(e("select",{id:"productionDropdown","onUpdate:modelValue":n[6]||(n[6]=o=>t.form.event_type_id=o),class:"block appearance-none w-full bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded",onChange:n[7]||(n[7]=o=>_.alterProductionNeeded())},[(r(!0),i(V,null,w(u.eventTypes,o=>(r(),i("option",{key:o.id,value:o.id},h(o.name),9,te))),128))],544),[[x,t.form.event_type_id]])])]),e("div",oe,[ne,e("p",null,[l(e("input",{"onUpdate:modelValue":n[8]||(n[8]=o=>t.form.public=o),type:"checkbox"},null,512),[[v,t.form.public]])])])]),t.form.event_type_id===1?(r(),i("div",se,[d(y,{number:"1a",title:"Wedding Information"}),e("div",re,[ie,e("p",null,[l(e("input",{id:"firstDance","onUpdate:modelValue":n[9]||(n[9]=o=>t.form.first_dance=o),type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"First Dance"},null,512),[[c,t.form.first_dance]])])]),e("div",le,[de,e("p",null,[l(e("input",{id:"secondDance","onUpdate:modelValue":n[10]||(n[10]=o=>t.form.father_daughter=o),type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Second Dance"},null,512),[[c,t.form.father_daughter]])])]),e("div",ae,[ue,e("p",null,[l(e("input",{id:"secondDance","onUpdate:modelValue":n[11]||(n[11]=o=>t.form.mother_groom=o),type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Second Dance"},null,512),[[c,t.form.mother_groom]])])]),e("div",me,[pe,e("p",null,[l(e("input",{id:"moneyDance","onUpdate:modelValue":n[12]||(n[12]=o=>t.form.money_dance=o),type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Money Dance"},null,512),[[c,t.form.money_dance]])])]),e("div",ce,[_e,e("p",null,[l(e("input",{id:"bouquetDance","onUpdate:modelValue":n[13]||(n[13]=o=>t.form.bouquet_garter=o),type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Bouquet Stuff"},null,512),[[c,t.form.bouquet_garter]])])]),e("div",fe,[he,e("p",null,[l(e("input",{"onUpdate:modelValue":n[14]||(n[14]=o=>t.form.second_line=o),type:"checkbox"},null,512),[[v,t.form.second_line]])])])])):m("",!0),e("div",ve,[d(y,{number:2,title:"Venue Information"}),e("div",null,[e("div",ye,[ge,e("div",null,[e("div",be,[l(e("select",{"onUpdate:modelValue":n[15]||(n[15]=o=>t.form.production_needed=o),class:"block appearance-none w-full bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded"},Ve,512),[[x,t.form.production_needed]])])])]),t.form.event_type_id==3||t.form.event_type_id===6?(r(),i("div",ke,[Ee,e("p",null,[l(e("input",{"onUpdate:modelValue":n[16]||(n[16]=o=>t.form.backline_provided=o),type:"checkbox"},null,512),[[v,t.form.backline_provided]])])])):m("",!0),e("div",Ie,[De,e("p",null,[l(e("input",{"onUpdate:modelValue":n[17]||(n[17]=o=>t.form.venue_name=o),type:"text",placeholder:"Venue Name",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",onInput:n[18]||(n[18]=o=>a.unsavedChanges=!0),onKeyup:n[19]||(n[19]=o=>_.autoComplete())},null,544),[[c,t.form.venue_name]]),e("ul",Se,[(r(!0),i(V,null,w(t.searchResults,(o,T)=>(r(),i("li",{key:T,class:"border-black my-4 p-4 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:pt=>{_.getLocationDetails(o.place_id),t.form.venue_name=o.structured_formatting.main_text,t.searchResults=null}},h(o.description),9,Te))),128))])])]),e("div",Ue,[Ce,e("p",null,[l(e("input",{id:"streetAddress","onUpdate:modelValue":n[20]||(n[20]=o=>t.form.address_street=o),type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"P. Sherman, 42"},null,512),[[c,t.form.address_street]])])]),e("div",qe,[Be,e("p",null,[l(e("input",{id:"city","onUpdate:modelValue":n[21]||(n[21]=o=>t.form.city=o),type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Townsville"},null,512),[[c,t.form.city]])])]),e("div",Le,[Ne,e("p",null,[l(e("select",{id:"stateDropdown","onUpdate:modelValue":n[22]||(n[22]=o=>t.form.state_id=o),class:"block appearance-none w-full bg-grey-lighter border border-grey-lighter text-grey-darker py-3 px-4 pr-8 rounded"},[(r(!0),i(V,null,w(u.states,o=>(r(),i("option",{key:o.state_id,value:o.state_id},h(o.state_name),9,Pe))),128))],512),[[x,t.form.state_id]])])]),e("div",ze,[Oe,e("p",null,[l(e("input",{id:"zipCode","onUpdate:modelValue":n[23]||(n[23]=o=>t.form.zip=o),type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"70506"},null,512),[[c,t.form.zip]])])]),e("div",Me,[Fe,e("p",null,[l(e("input",{"onUpdate:modelValue":n[24]||(n[24]=o=>t.form.outdoors=o),type:"checkbox"},null,512),[[v,t.form.outdoors]])])])])]),e("div",Re,[d(y,{number:3,title:"Band Notes"}),e("div",Ae,[je,e("p",null,[d(E,{modelValue:t.form.notes,"onUpdate:modelValue":n[25]||(n[25]=o=>t.form.notes=o),"editor-style":"height: 320px"},null,8,["modelValue"])])]),e("div",Ge,[Ke,e("p",null,[d(E,{modelValue:t.form.colorway_text,"onUpdate:modelValue":n[26]||(n[26]=o=>t.form.colorway_text=o),"editor-style":"height: 150px"},null,8,["modelValue"])])]),e("div",Qe,[We,e("p",null,[l(e("input",{"onUpdate:modelValue":n[27]||(n[27]=o=>t.form.lodging=o),type:"checkbox"},null,512),[[v,t.form.lodging]])])])]),t.form.event_time!==""?(r(),i("div",Ze,[d(y,{number:4,title:"Load in times"}),d(L,{name:"slide-down",appear:""},{default:I(()=>[e("div",null,[t.form.event_time!==""?(r(),i("div",He,[Je,e("p",null,[d(f,{modelValue:t.form.event_time,"onUpdate:modelValue":n[28]||(n[28]=o=>t.form.event_time=o),disabled:t.form.event_time==="","show-time":!0,"time-only":!0,"hour-format":"12"},null,8,["modelValue","disabled"])])])):m("",!0),t.form.event_time!==""?(r(),i("div",Xe,[Ye,e("p",null,[d(f,{modelValue:t.form.end_time,"onUpdate:modelValue":n[29]||(n[29]=o=>t.form.end_time=o),disabled:t.form.event_time==="","show-time":!0,"step-minute":15,"time-only":!0,"hour-format":"12"},null,8,["modelValue","disabled"])])])):m("",!0),t.form.event_type_id===1&&t.form.event_time!==""?(r(),i("div",$e,[et,e("p",null,[d(f,{modelValue:t.form.ceremony_time,"onUpdate:modelValue":n[30]||(n[30]=o=>t.form.ceremony_time=o),disabled:t.form.event_time==="","show-time":!0,"step-minute":15,"time-only":!0,"hour-format":"12"},null,8,["modelValue","disabled"]),b(" On Site: "),l(e("input",{"onUpdate:modelValue":n[31]||(n[31]=o=>t.form.onsite=o),type:"checkbox"},null,512),[[v,t.form.onsite]])])])):m("",!0),t.form.event_time!==""?(r(),i("div",tt,[ot,e("p",null,[d(f,{modelValue:t.form.quiet_time,"onUpdate:modelValue":n[32]||(n[32]=o=>t.form.quiet_time=o),disabled:t.form.event_time==="","show-time":!0,"step-minute":15,"time-only":!0,"hour-format":"12"},null,8,["modelValue","disabled"]),t.form.event_time!==""?(r(),i("button",{key:0,id:"autoFillButton",class:"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 mx-3 border border-blue-500 hover:border-transparent rounded",type:"button",onClick:n[33]||(n[33]=o=>_.setDate())},[nt,b(" Auto Fill Times ")])):m("",!0)])])):m("",!0),t.form.event_time!==""&&t.form.production_needed?(r(),i("div",st,[rt,e("p",null,[d(f,{modelValue:t.form.production_loadin_time,"onUpdate:modelValue":n[34]||(n[34]=o=>t.form.production_loadin_time=o),disabled:t.form.event_time==="","step-minute":15,"show-time":!0,"time-only":!0,"hour-format":"12"},null,8,["modelValue","disabled"])])])):m("",!0),t.form.event_time!==""?(r(),i("div",it,[lt,e("p",null,[d(f,{modelValue:t.form.rhythm_loadin_time,"onUpdate:modelValue":n[35]||(n[35]=o=>t.form.rhythm_loadin_time=o),disabled:t.form.event_time==="","step-minute":15,"show-time":!0,"time-only":!0,"hour-format":"12"},null,8,["modelValue","disabled"])])])):m("",!0),t.form.event_time!==""?(r(),i("div",dt,[at,e("p",null,[d(f,{modelValue:t.form.band_loadin_time,"onUpdate:modelValue":n[36]||(n[36]=o=>t.form.band_loadin_time=o),disabled:t.form.event_time==="","step-minute":15,"show-time":!0,"time-only":!0,"hour-format":"12"},null,8,["modelValue","disabled"])])])):m("",!0)])]),_:1})])):m("",!0)]),ut],32)])])]),_:1})}const ft=U(O,[["render",mt],["__scopeId","data-v-9424dfeb"]]);export{ft as default};
