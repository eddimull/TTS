import{_ as V,r as i,o,b as h,J as D,a as l,c as _,w as m,f as y,t as C,e as n,F as x,k as Q,d as f,n as N}from"./app-Dcv1srkc.js";const U={components:{},props:{type:{type:String,default:"header"},value:{type:Object,default:()=>({title:"Open Ended Question",input:"",singleLine:!0})}},setup(){},data(){return{editing:!1,content:this.value}},methods:{undoChanges(){this.content=JSON.parse(JSON.stringify(this.originalData)),this.editing=!1},editMode(){this.originalData=JSON.parse(JSON.stringify(this.content)),this.editing=!0}}},L={key:1};function B(r,t,w,k,e,s){const a=i("Button");return o(),h("div",null,[e.editing?(o(),h("div",L,[D(r.$slots,"edit"),l(a,{label:"Save",icon:"pi pi-save",onClick:t[1]||(t[1]=c=>e.editing=!1)}),l(a,{label:"Undo Changes",icon:"pi pi-undo",onClick:s.undoChanges},null,8,["onClick"])])):(o(),h("div",{key:0,class:"my-4 hover:bg-gray-200 cursor-pointer",onClick:t[0]||(t[0]=(...c)=>s.editMode&&s.editMode(...c))},[D(r.$slots,"show")]))])}const S=V(U,[["render",B]]),M={components:{EditableComponent:S},props:{value:{type:String,default:"Undefined"}},data(){return{content:this.value}},watch:{showDelete:{}},methods:{}},q={class:"border-4 border-blue-300 p-4 rounded-md"};function J(r,t,w,k,e,s){const a=i("PVtextarea"),c=i("editable-component");return o(),_(c,null,{show:m(()=>[y(C(e.content),1)]),edit:m(()=>[n("div",q,[l(a,{modelValue:e.content,"onUpdate:modelValue":t[0]||(t[0]=v=>e.content=v),"auto-resize":!0,rows:"5",cols:"30"},null,8,["modelValue"])])]),_:1})}const I=V(M,[["render",J]]),j={components:{EditableComponent:S},props:{value:{type:Object,default:()=>({title:"untitled",choices:["a","b","c"]})}},setup(){},data(){return{originalData:{},editing:!1,selected:null,content:this.value}},methods:{undoChanges(){this.content=JSON.parse(JSON.stringify(this.originalData)),this.editing=!1},editMode(){this.originalData=JSON.parse(JSON.stringify(this.content)),this.editing=!0},addChoice(){this.content.choices.push("Choice "+(this.content.choices.length+1))},removeChoice(r){this.content.choices.splice(r,1)}}},H=["for"],P={class:"border-4 border-blue-300 p-4 rounded-md"},z=n("label",{for:"titleText"},"Title",-1);function A(r,t,w,k,e,s){const a=i("RadioButton"),c=i("InputText"),v=i("Button"),g=i("editable-component");return o(),_(g,{value:e.content},{show:m(()=>[y(C(e.content.title)+" ",1),(o(!0),h(x,null,Q(e.content.choices,(u,p)=>(o(),h("div",{key:p},[l(a,{id:p,modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=b=>e.selected=b),name:p,value:u},null,8,["id","modelValue","name","value"]),n("label",{for:p},C(u),9,H)]))),128))]),edit:m(()=>[n("div",P,[n("div",null,[z,n("div",null,[l(c,{id:"titleText",modelValue:e.content.title,"onUpdate:modelValue":t[1]||(t[1]=u=>e.content.title=u)},null,8,["modelValue"])])]),n("div",null,[y(" Choices: "),n("ul",null,[(o(!0),h(x,null,Q(e.content.choices,(u,p)=>(o(),h("li",{key:p,class:"my-2"},[l(c,{id:"choice"+p,modelValue:e.content.choices[p],"onUpdate:modelValue":b=>e.content.choices[p]=b},null,8,["id","modelValue","onUpdate:modelValue"]),e.content.choices.length!==1?(o(),_(v,{key:0,icon:"pi pi-trash",class:"p-button-danger",onClick:b=>s.removeChoice(p)},null,8,["onClick"])):f("",!0)]))),128)),e.content.choices.length<15?(o(),_(v,{key:0,icon:"pi pi-plus",onClick:s.addChoice},null,8,["onClick"])):f("",!0)])])])]),_:1},8,["value"])}const F=V(j,[["render",A]]),R={components:{EditableComponent:S},props:{value:{type:Object,default:()=>({title:"Open Ended Question",input:"",singleLine:!0})}},setup(){},data(){return{originalData:{},editing:!1,answer:null,choices:[{name:"Multiple Lines",value:!1},{name:"Single Line",value:!0}],content:this.value}},methods:{}},G={class:"border-4 border-blue-300 p-4 rounded-md"},X=n("label",{for:"titleText"},"Title",-1);function K(r,t,w,k,e,s){const a=i("PVtextarea"),c=i("InputText"),v=i("Dropdown"),g=i("editable-component");return o(),_(g,{value:e.content},{show:m(()=>[y(C(e.content.title)+" ",1),n("div",null,[e.content.singleLine==!1?(o(),_(a,{key:0,modelValue:e.answer,"onUpdate:modelValue":t[0]||(t[0]=u=>e.answer=u),"auto-resize":!0,rows:"5",cols:"30"},null,8,["modelValue"])):f("",!0),e.content.singleLine?(o(),_(c,{key:1,modelValue:e.answer,"onUpdate:modelValue":t[1]||(t[1]=u=>e.answer=u)},null,8,["modelValue"])):f("",!0)])]),edit:m(()=>[n("div",G,[n("div",null,[X,l(c,{id:"titleText",modelValue:e.content.title,"onUpdate:modelValue":t[2]||(t[2]=u=>e.content.title=u)},null,8,["modelValue"])]),n("div",null,[l(v,{modelValue:e.content.singleLine,"onUpdate:modelValue":t[3]||(t[3]=u=>e.content.singleLine=u),options:e.choices,"option-label":"name","option-value":"value",placeholder:"Multiple Line or single line"},null,8,["modelValue","options"])])])]),_:1},8,["value"])}const W=V(R,[["render",K]]),Y={data(){return{showing:!1}},methods:{show(){this.showing=!0},hide(){this.showing=!1}}},Z={key:0,style:{width:"410px"},class:"fixed right-0 pr-2 bg-gray-700 h-screen text-white"},$={class:"p-4 flex flex-row justify-between"},ee=n("div",null,"Side Editor",-1),te=n("div",{class:"flex flex-row justify-around bg-gray-800 p-4"},[n("div",null,"General"),n("div",null,"options")],-1);function ne(r,t,w,k,e,s){return e.showing?(o(),h("div",Z,[n("div",$,[ee,n("div",{class:"text-xl cursor-pointer",onClick:t[0]||(t[0]=(...a)=>s.hide&&s.hide(...a))}," X ")]),te])):f("",!0)}const oe=V(Y,[["render",ne]]),ie={components:{SideEditor:oe,Header:I,Multichoice:F,OpenEnded:W},props:["questionnaire","questionnaireData"],data(){return{components:[],addingQuestion:!1,questionTypes:[{label:"Header",value:"header"},{label:"Multichoice",value:"multichoice"},{label:"OpenEnded",value:"openEnded"}],submitted:!1,saving:!1,newQuestion:{name:"",type:null},headerText:"this is a block of text!",multipleChoice:{title:"Title of question",choices:["choice 1","choice 2","choice 3"]},openEnded:{title:"Open Ended Question",input:"",singleLine:!1}}},created(){this.components=this.questionnaireData.map(r=>{const t=JSON.parse(r.data);return{id:r.id,...t}})},methods:{addQuestion(){this.addingQuestion=!this.addingQuestion},closeDialog(){this.addingQuestion=!1},saveQuestion(){this.$inertia.post(route("questionnaire.addQuestion",{slug:this.questionnaire.slug}),this.newQuestion)}}},le=n("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Edit Questionnaire ",-1),se={class:"card"},ue={class:"p-field"},de=n("label",{for:"name"},"Name",-1),re={key:0,class:"p-error"},ae={class:"p-field"},ce=n("label",{for:"band",class:"p-mb-3"},"Type",-1);function pe(r,t,w,k,e,s){const a=i("Header"),c=i("Multichoice"),v=i("OpenEnded"),g=i("Button"),u=i("InputText"),p=i("Dropdown"),b=i("Dialog"),E=i("Container"),O=i("SideEditor"),T=i("Layout");return o(),_(T,null,{header:m(()=>[le]),default:m(()=>[l(E,null,{default:m(()=>[n("div",se,[y(" Questions "),(o(!0),h(x,null,Q(e.components,d=>(o(),h("div",{key:d.id},[d.type==="header"?(o(),_(a,{key:0,value:d.name},null,8,["value"])):f("",!0),d.type==="multichoice"?(o(),_(c,{key:1,value:d},null,8,["value"])):f("",!0),d.type==="openEnded"?(o(),_(v,{key:2,value:d},null,8,["value"])):f("",!0)]))),128)),n("div",null,[l(g,{onClick:s.addQuestion},{default:m(()=>[y(" + Add Question ")]),_:1},8,["onClick"])])]),l(b,{visible:e.addingQuestion,"onUpdate:visible":t[2]||(t[2]=d=>e.addingQuestion=d),style:{width:"450px"},header:"Add Question",modal:!0,class:"p-fluid"},{footer:m(()=>[l(g,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:s.closeDialog},null,8,["onClick"]),l(g,{label:e.saving?"Saving...":"Save",disabled:e.saving,icon:"pi pi-check",class:"p-button-text",onClick:s.saveQuestion},null,8,["label","disabled","onClick"])]),default:m(()=>[n("div",ue,[de,l(u,{id:"name",modelValue:e.newQuestion.name,"onUpdate:modelValue":t[0]||(t[0]=d=>e.newQuestion.name=d),modelModifiers:{trim:!0},required:"true",autofocus:"",class:N({"p-invalid":e.submitted&&!e.newQuestion.name})},null,8,["modelValue","class"]),e.submitted&&!e.newQuestion.name?(o(),h("small",re,"Name is required.")):f("",!0)]),n("div",ae,[ce,l(p,{id:"bandSelection",modelValue:e.newQuestion.type,"onUpdate:modelValue":t[1]||(t[1]=d=>e.newQuestion.type=d),options:e.questionTypes,"option-label":"label","option-value":"value",placeholder:"Question Type"},null,8,["modelValue","options"])])]),_:1},8,["visible"])]),_:1}),l(O,{ref:"sideEditor"},null,512)]),_:1})}const he=V(ie,[["render",pe]]);export{he as default};
